<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - YKGZ STORE</title>
    <style>
        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #070707, #f9f7f7);
            color: #333;
        }

        /* Header with Back Arrow */
        header {
            background-color: #0d0d0e;
            color: rgb(253, 134, 31);
            padding: 1rem;
            display: flex;
            align-items: center;
            position: fixed;
            top: 0;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        header .back-arrow {
            font-size: 2rem;
            margin-right: 1rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        header .back-arrow:hover {
            color: #ff5722;
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
            text-align: center;
            flex: 1;
        }

        /* Main Content */
        main {
            padding: 7rem 1rem 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .product-image {
            width: 90%;
            max-width: 500px;
            border-radius: 10px;
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .product-image:hover {
            transform: scale(1.05);
        }

        .product-details {
            text-align: center;
            max-width: 800px;
            background-color: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.2);
        }

        .product-details h2 {
            color: #ff5722;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .product-details .price {
            font-size: 1.5rem;
            margin: 1rem 0;
        }

        .product-details .description {
            font-size: 1.5rem;
            margin-top: 1rem;
            color: #555;
            line-height: 1.5;
            font-weight: bold;
        }

        .product-details button {
            background-color: #ff5722;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: background-color 0.3s;
            margin: 1rem 0;
        }

        .product-details button:hover {
            background-color: #2874f0;
        }

        /* Reviews Section */
        .reviews {
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.2);
        }

        .reviews h3 {
            font-size: 1.8rem;
            color: #ff5722;
            margin-bottom: 1rem;
        }

        .review-form {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .review-form textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: none;
            font-size: 1rem;
        }

        .review-form button {
            background-color: #ff5722;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }

        .review-form button:hover {
            background-color: #2874f0;
        }

        .review-item {
            margin-top: 1.5rem;
            border-bottom: 1px solid #ddd;
            padding-bottom: 1rem;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-item h4 {
            font-size: 1.2rem;
            margin: 0;
            color: #333;
        }

        .review-item p {
            margin: 0.5rem 0 0;
            color: #555;
        }

        .stars {
            color: #ff5722;
            font-size: 1.2rem;
        }

        /* Toast Notification Styling */
/* Toast Notification (Centered with Buttons) */
.toast {
    visibility: hidden;
    width: 300px;
    background-color: black;
    color: white;
    text-align: center;
    border-radius: 8px;
    padding: 15px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

.toast.show {
    visibility: visible;
    opacity: 1;
}

.toast-buttons {
    margin-top: 10px;
}

.toast-buttons button {
    background-color: #ff9800;
    color: white;
    border: none;
    padding: 8px 12px;
    margin: 5px;
    cursor: pointer;
    border-radius: 5px;
}

.toast-buttons button:hover {
    background-color: #e68900;
}


    </style>
</head>
<body>
   <!-- Toast Notification -->
<div id="toast" class="toast">
    <span id="toast-message"></span>
    <div class="toast-buttons">
        <button onclick="viewProducts()">View Products</button>
        <button onclick="goToCart()">Go to Cart</button>
    </div>
</div>


    <!-- Header -->
    <header>
        <span class="back-arrow" onclick="goBack()">←</span>
        <h1>Product Details</h1>
    </header>

    <!-- Main Content -->
    <main>
        <img class="product-image" id="product-image" src="" alt="Product Image">
        <div class="product-details">
            <h2 id="product-name"></h2>
            <p class="price" id="product-price"></p>
            <p class="description" id="product-description"></p>
            <button onclick="addToCart()">Add to Cart</button>
            <button onclick="buyNow()">Buy Now</button>
        </div>
        <div class="reviews">
            <h3>Customer Reviews</h3>
            <div id="review-list"></div>
            <div class="review-form">
                <label for="rating">Rate the Product:</label>
                <select id="rating">
                    <option value="1">★☆☆☆☆</option>
                    <option value="2">★★☆☆☆</option>
                    <option value="3">★★★☆☆</option>
                    <option value="4">★★★★☆</option>
                    <option value="5">★★★★★</option>
                </select>
                <textarea id="review-text" placeholder="Write your review here..." rows="5"></textarea>
                <button onclick="submitReview()">Submit Review</button>
            </div>
        </div>
    </main>
<script>
    const product = JSON.parse(localStorage.getItem("productDetails"));
    const reviews = JSON.parse(localStorage.getItem("reviews")) || [];
    
    function goBack() {
        window.location.href = "shop.html";
    }
    
    // Function to show toast notification
    function showToast(message) {
        const toast = document.getElementById("toast");
        toast.innerText = message;
        toast.classList.add("show");
    
        setTimeout(() => {
            toast.classList.remove("show");
        }, 3000); // Hide after 3 seconds
    }
    
    function addToCart() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
    
        // Check if the product is already in the cart
        const isProductInCart = cart.some(item => item.id === product.id);
    
        if (isProductInCart) {
            showToast(`${product.name} is already in your cart.`);
            return; // Stop function execution
        }
    
        // Create the product object with necessary details including the price.
        const productToAdd = {
            id: product.id,
            name: product.name,
            price: product.discountedPrice,  // Ensure the correct price is used
            imageUrl: product.imageUrl
        };
    
        // Push the product object into the cart.
        cart.push(productToAdd);
    
        // Save the updated cart back to localStorage.
        localStorage.setItem("cart", JSON.stringify(cart));
    
        // Notify the user
        showToast(`${product.name} has been added to your cart.`);
    }
    
    function buyNow() {
        localStorage.setItem("currentProduct", JSON.stringify(product));
        window.location.href = "delivery.html";
    }
    
    function generateUniqueDescription() {
        const descriptions = [
            "This product is made with high-quality materials ensuring long-lasting use and comfort. Its modern design is perfect for any occasion.",
            "Crafted with care and attention to detail, this product offers both style and durability. Its ergonomic design ensures maximum comfort throughout the day.",
            "Experience the perfect combination of style, comfort, and functionality. Made from premium materials, this product is built to last.",
            "Made from top-notch materials, this product promises both elegance and durability. Its unique design makes it a must-have for any fashion-conscious individual.",
            "This is a blend of innovation and tradition, designed to provide both comfort and a sleek look. Its durable build makes it suitable for everyday use."
        ];
        return descriptions[Math.floor(Math.random() * descriptions.length)];
    }
    
    function renderProductDetails() {
        document.getElementById("product-image").src = product.imageUrl;
        document.getElementById("product-name").textContent = product.name;
        document.getElementById("product-price").textContent = `Price: ₹${product.discountedPrice}`;
        document.getElementById("product-description").textContent = generateUniqueDescription();
    }
    
    function renderReviews() {
        const reviewList = document.getElementById("review-list");
        reviewList.innerHTML = reviews
            .filter(review => review.productId === product.id)
            .map(review => `
                <div class="review-item">
                    <h4>${review.stars}</h4>
                    <p>${review.text}</p>
                </div>
            `).join("");
    }
    
    function submitReview() {
        const rating = document.getElementById("rating").value;
        const reviewText = document.getElementById("review-text").value;
    
        if (!reviewText) {
            alert("Please write a review before submitting.");
            return;
        }
    
        reviews.push({
            productId: product.id,
            stars: "★".repeat(rating),
            text: reviewText
        });
    
        localStorage.setItem("reviews", JSON.stringify(reviews));
        document.getElementById("review-text").value = "";
        renderReviews();
    }
    
    // Render the product and reviews on page load
    renderProductDetails();
    renderReviews();

</script>
    
</body>
</html>
